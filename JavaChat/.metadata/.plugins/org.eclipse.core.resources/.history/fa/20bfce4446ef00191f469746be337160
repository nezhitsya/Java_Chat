package prac;

import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.UUID;

import javax.swing.JOptionPane;

import prac.FilePath;
// 전송된 파일의 save, load
// fileSave() 파일을 저장한 뒤 저장 이름 리턴
// fileload() 바이트 단위로 로드된 파일 리턴
public class FileSaveLoadUtil {

	public static String fileSave(String extention, String path, byte[] file) {
		String fileName = UUID.randomUUID() + extention;
		try (BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(
				new FileOutputStream(path + fileName))) {
			bufferedOutputStream.write(file, 0, file.length);
			bufferedOutputStream.close();
		} catch (IOException e) {
			e.printStackTrace();
		}
		return fileName;
	}
	
	public static byte[] fileLoad(String path) {
		File file = new File(path);
		byte[] loadFile = new byte[(int)file.length()];
		BufferedInputStream bufferedInputStream;
		try {
			bufferedInputStream = new BufferedInputStream(new FileInputStream(file));
			bufferedInputStream.read(loadFile, 0, loadFile.length);
		} catch (IOException e) {
			e.printStackTrace();
		}
		return loadFile;
	}
}
